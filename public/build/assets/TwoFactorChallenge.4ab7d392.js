import{u as g,r as a,W as x,a as r,j as o,b}from"./app.293a78a2.js";import{c as C}from"./index.0579b088.js";import{A as N}from"./AuthenticationCard.e586ea24.js";import{I as m}from"./InputLabel.8542de9e.js";import{P as R}from"./PrimaryButton.9495eb81.js";import{T as d}from"./TextInput.acc7a464.js";import{I as f}from"./InputError.68b75152.js";import"./AuthenticationCardLogo.73459c8e.js";function k(){const y=g(),[c,p]=a.exports.useState(!1),e=x({code:"",recovery_code:""}),s=a.exports.useRef(null),n=a.exports.useRef(null);function v(t){t.preventDefault();const i=!c;p(i),setTimeout(()=>{var l,u;i?((l=s.current)==null||l.focus(),e.setData("code","")):((u=n.current)==null||u.focus(),e.setData("recovery_code",""))},100)}function h(t){t.preventDefault(),e.post(y("two-factor.login"))}return r(N,{children:[o(b,{title:"Two-Factor Confirmation"}),o("div",{className:"mb-4 text-sm text-gray-600",children:c?"Please confirm access to your account by entering one of your emergency recovery codes.":"Please confirm access to your account by entering the authentication code provided by your authenticator application."}),r("form",{onSubmit:h,children:[c?r("div",{children:[o(m,{htmlFor:"recovery_code",children:"Recovery Code"}),o(d,{id:"recovery_code",type:"text",className:"mt-1 block w-full",value:e.data.recovery_code,onChange:t=>e.setData("recovery_code",t.currentTarget.value),ref:s,autoComplete:"one-time-code"}),o(f,{className:"mt-2",message:e.errors.recovery_code})]}):r("div",{children:[o(m,{htmlFor:"code",children:"Code"}),o(d,{id:"code",type:"text",inputMode:"numeric",className:"mt-1 block w-full",value:e.data.code,onChange:t=>e.setData("code",t.currentTarget.value),autoFocus:!0,autoComplete:"one-time-code",ref:n}),o(f,{className:"mt-2",message:e.errors.code})]}),r("div",{className:"flex items-center justify-end mt-4",children:[o("button",{type:"button",className:"text-sm text-gray-600 hover:text-gray-900 underline cursor-pointer",onClick:v,children:c?"Use an authentication code":"Use a recovery code"}),o(R,{className:C("ml-4",{"opacity-25":e.processing}),disabled:e.processing,children:"Log in"})]})]})]})}export{k as default};
